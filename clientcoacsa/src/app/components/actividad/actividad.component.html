<app-header></app-header>
<div class="mt-4">
  <div class="row">
    <div class="col-12 mb-2">
      <div class="text-center">
        <h2>
          <strong>LISTA DE ACTIVIDADES {{ title }}</strong>
        </h2>
      </div>
    
      
      <div class="dropdown">
        <strong style="font-size:22px"> PERSPECTIVA: </strong>
        <button 
        
          class="btn btn-success dropdown-toggle"
          type="button"
          id="dropdownMenu2"
          data-toggle="dropdown"
          aria-haspopup="true"
          aria-expanded="false"
        >
          {{ title }}
        </button>
        
        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
          <button 
            class="dropdown-item"
            
            (click)="changePerspective(-1)"
            type="button"
          >
            GENERALES
          </button>
          <button 
            class="dropdown-item"
            (click)="changePerspective(p.secuencial_perspectiva)"
            *ngFor="let p of perspectivas"
            type="button"
          >
            {{ p.nombre_perspectiva }}
          </button>
        </div>
      </div>
    </div>
    <div class="col-6 text-right"></div>
    <div class="col">
      <table 
        class="table table-striped table-responsive table-bordered table-hover"
      >
        <thead class="thead">
          <tr>
            <th scope="col" class="text-center">Objetivos</th>
            <th scope="col" class="text-center">Nombre de la Actividad</th>
            <th scope="col" class="text-center">Responsable</th>
            <th scope="col" class="text-center">Personal de Apoyo</th>
            <th scope="col" class="text-center">Entregables</th>
            <th scope="col" class="text-center">%Avance</th>
            <th scope="col" class="text-center">Presupuesto global</th>
            <th scope="col" class="text-center">%Presupuesto</th>
            <th scope="col" class="text-center">Programaci√≥n</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let ac of actividades | paginate: { itemsPerPage: 5, currentPage: page }">
            <th scope="row" class="text-center">
              {{ ac.nombre_objetivo_perspectiva }}
            </th>
            <td scope="row" class="text-center">{{ ac.nombre_actividad }}</td>
            <td scope="row" class="text-center">{{ ac.nombre_rol }}</td>
            <td class="text-center">{{ ac.personal_apoyo }}</td>
            <td class="text-center">{{ ac.entregables }}</td>
            <td class="text-center">{{ ac.avance }} %</td>
            <td class="text-center">{{ ac["global"] }}</td>
            <td class="text-center">{{ ac["pp"] }} %</td>
            <td class="text-center">
              <button pButton
                type="button"
                (click)="goToCalendar(ac)"
                class="p-button-info p-mr-2"
              ><i class="fas fa-calendar-alt">&nbsp;</i> 
                &nbsp;&nbsp;Calendario
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-center"> 
      <pagination-controls (pageChange)="page = $event" 
      previousLabel =" Anterior "
     nextLabel= " Siguiente "></pagination-controls>
    `</div>
    </div>
  </div>
</div>

<app-footer></app-footer>